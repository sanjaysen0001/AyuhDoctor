(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[268],{2093:function(e,t,a){"use strict";a.r(t),a.d(t,"EditProduct",(function(){return k}));var n=a(822),r=a(51),l=a(13),c=a(14),s=a(16),o=a(15),i=a(0),m=a.n(i),d=a(1104),u=a(1102),p=a(1103),g=a(173),h=a(1107),E=a(805),v=a(804),f=a(803),b=a(783),y=a(117),C=(a(806),a(56)),N=a(799),S=a(811),P=a.n(S),H=a(831),w=a(832),k=(a(815),a(809),a(1013),function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).onChangeHandler=function(e){c.setState({selectedFile:e.target.files[0]}),c.setState({selectedName:e.target.files[0].name}),console.log(e.target.files[0])},c.onChangeHandler=function(e){c.setState({selectedFile:e.target.files}),c.setState({selectedName:e.target.files.name}),console.log(e.target.files)},c.uploadImageCallBack=function(e){return new Promise((function(t,a){var n=new XMLHttpRequest;n.open("POST","https://api.imgur.com/3/image"),n.setRequestHeader("Authorization","Client-ID 7e1c3e366d22aa3");var r=new FormData;r.append("image",e),n.send(r),n.addEventListener("load",(function(){var e=JSON.parse(n.responseText);t(e)})),n.addEventListener("error",(function(){var e=JSON.parse(n.responseText);a(e)}))}))},c.onEditorStateChange=function(e){c.setState({editorState:e,desc:P()(Object(w.convertToRaw)(e.getCurrentContent()))})},c.changeHandler1=function(e){c.setState({status:e.target.value})},c.changeHandler=function(e){c.setState(Object(r.a)({},e.target.name,e.target.value))},c.changeHandler1=function(e){c.setState({status:e.target.value})},c.changeHandler=function(e){c.setState(Object(r.a)({},e.target.name,e.target.value))},c.submitHandler=function(e){e.preventDefault(),console.log(c.props.match.params,c.state);var t=new FormData;t.append("title",c.state.title),t.append("productname",c.state.productname),t.append("category",c.state.category),t.append("desc",c.state.desc),t.append("price",c.state.price),t.append("limit",c.state.limit),t.append("status",c.state.status),null!==c.state.selectedFile&&t.append("image",c.state.selectedFile,c.state.selectedName);var a,r=Object(n.a)(t.values());try{for(r.s();!(a=r.n()).done;){var l=a.value;console.log(l)}}catch(d){r.e(d)}finally{r.f()}var s,o=Object(n.a)(t.keys());try{for(o.s();!(s=o.n()).done;){var i=s.value;console.log(i)}}catch(d){o.e(d)}finally{o.f()}var m=c.props.match.params.id;y.a.post("/admin/editproduct/".concat(m),t).then((function(e){console.log(e),c.props.history.push("/app/productmanager/product/productList")})).catch((function(e){console.log(e)}))},c.state={title:"",productname:"",category:"",image:"",desc:"",price:"",limit:"",selectedFile:void 0,selectedName:"",status:"",editorState:w.EditorState.createEmpty()},c.state={categoryP:[]},c}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.a.get("/admin/getproductcalegory").then((function(t){console.log(t),e.setState({categoryP:t.data.data})})).catch((function(e){console.log(e)})),console.log(this.props.match.params);var t=this.props.match.params.id;y.a.get("admin/viewoneProduct/".concat(t)).then((function(t){console.log(t),e.setState({title:t.data.data.title,productname:t.data.data.productname,category:t.data.data.category,image:t.data.data.image,desc:t.data.data.desc,price:t.data.data.price,limit:t.data.data.limit,status:t.data.data.status})}))}},{key:"render",value:function(){var e,t=this;return m.a.createElement("div",null,m.a.createElement(N.a,{breadCrumbTitle:"Edit Product",breadCrumbParent:" Product Management",breadCrumbActive:"Edit Product"}),m.a.createElement(d.a,null,m.a.createElement(u.a,{className:"m-2"},m.a.createElement(p.a,null,m.a.createElement("h1",{"col-sm-6":!0,className:"float-left"},"Edit Product")),m.a.createElement(p.a,null,m.a.createElement(C.b,{render:function(e){var t=e.history;return m.a.createElement(g.a,{className:" btn btn-danger float-right",onClick:function(){return t.push("/app/customer/customerList")}},"Back")}}))),m.a.createElement(h.a,null,m.a.createElement(E.a,{className:"m-1",onSubmit:this.submitHandler},m.a.createElement(u.a,null,m.a.createElement(p.a,{lg:"4",md:"4",sm:"4",className:"mb-2"},m.a.createElement(v.a,null,"Product Title"),m.a.createElement(f.a,{required:!0,type:"text",name:"title",placeholder:"Enter Title",value:this.state.title,onChange:this.changeHandler})),m.a.createElement(p.a,{lg:"4",md:"4",sm:"4",className:"mb-2"},m.a.createElement(v.a,null,"Product Name"),m.a.createElement(f.a,{required:!0,type:"text",name:"productname",placeholder:"Enter Title",value:this.state.productname,onChange:this.changeHandler})),m.a.createElement(p.a,{lg:"6",md:"6",sm:"6",className:"mb-2"},m.a.createElement(v.a,null,"Product Category"),m.a.createElement(b.a,{type:"select",name:"category",value:this.state.category,onChange:this.changeHandler},m.a.createElement("option",null,"Select Product Category"),null===(e=this.state.categoryP)||void 0===e?void 0:e.map((function(e){return m.a.createElement("option",{value:null===e||void 0===e?void 0:e._id,key:null===e||void 0===e?void 0:e._id},null===e||void 0===e?void 0:e.name)})))),m.a.createElement(p.a,{lg:"4",md:"4",sm:"4",className:"mb-2"},m.a.createElement(v.a,null,"Price(MRP)"),m.a.createElement(f.a,{required:!0,type:"number",name:"price",placeholder:"Enter price",value:this.state.price,onChange:this.changeHandler})),m.a.createElement(p.a,{lg:"4",md:"4",sm:"4",className:"mb-2"},m.a.createElement(v.a,null,"limit"),m.a.createElement(f.a,{required:!0,type:"number",name:"limit",placeholder:"Enter limit",value:this.state.limit,onChange:this.changeHandler})),m.a.createElement(p.a,{lg:"4",md:"4",sm:"4",className:"mb-2"},m.a.createElement(v.a,null,"Thumnail Image"),m.a.createElement(v.a,null,"Image"),m.a.createElement(b.a,{type:"file",onChange:this.onChangeHandler})),m.a.createElement(p.a,{lg:"12",md:"12",sm:"12",className:"mb-2"},m.a.createElement(v.a,null,"Description"),m.a.createElement("br",null),m.a.createElement(H.Editor,{wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange,toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0},image:{uploadCallback:this.uploadImageCallBack,previewImage:!0,alt:{present:!0,mandatory:!0}}}}))),m.a.createElement(p.a,{lg:"6",md:"6",sm:"6",className:"mb-2"},m.a.createElement(v.a,{className:"mb-1"},"Status"),m.a.createElement("div",{className:"form-label-group",onChange:function(e){return t.changeHandler1(e)}},m.a.createElement("input",{style:{marginRight:"3px"},type:"radio",name:"status",value:"Active"}),m.a.createElement("span",{style:{marginRight:"20px"}},"Active"),m.a.createElement("input",{style:{marginRight:"3px"},type:"radio",name:"status",value:"Inactive"}),m.a.createElement("span",{style:{marginRight:"3px"}},"Inactive"))),m.a.createElement(u.a,null,m.a.createElement(p.a,{lg:"6",md:"6",sm:"6",className:"mb-2"},m.a.createElement(g.a.Ripple,{color:"primary",type:"submit",className:"mr-1 mb-1"},"Add")))))))}}]),a}(i.Component));t.default=k},809:function(e,t,a){}}]);
//# sourceMappingURL=268.e2c3f633.chunk.js.map